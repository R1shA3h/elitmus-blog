<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Improving Drag in React JS: A Smoother Approach to Draggable Elements &#8211; eLitmus Blog</title>
<meta name="description" content="We learn new things everyday, and we document our learnings here...">

<meta name="keywords" content="technology, javascript, ReactJS">

<!-- Twitter Cards -->
  <meta name="twitter:card" content="summary">    
<meta name="twitter:title" content="Improving Drag in React JS: A Smoother Approach to Draggable Elements">
<meta name="twitter:description" content="When building interactive web components, such as a draggable element, you might run into the problem where the native draggable attribute leaves the original element in place while dragging a semi-transparent copy. This behavior can feel clunky and disrupts the user experience. In this blog, I’ll show you how to build a smooth draggable component where the element itself follows the mouse pointer, rather than a ghost image.

">
<meta name="twitter:site" content="@elitmus">
<meta name="twitter:image" content="/blog/images/default_og.png">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
        
    

    




<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:image" content="/blog/images/default_og.png"/>
<meta property="og:image:width" content="1280"/>
<meta property="og:image:height" content="720"/>
<meta property="og:type" content="article">
<meta property="og:title" content="Improving Drag in React JS: A Smoother Approach to Draggable Elements">
<meta property="og:description" content="When building interactive web components, such as a draggable element, you might run into the problem where the native draggable attribute leaves the original element in place while dragging a semi-transparent copy. This behavior can feel clunky and disrupts the user experience. In this blog, I’ll show you how to build a smooth draggable component where the element itself follows the mouse pointer, rather than a ghost image.

">
<meta property="og:url" content="/blog/technology/improving-drag-in-reactjs-a-smoother-approach-to-draggable-elements/">
<meta property="og:site_name" content="eLitmus Blog">








<link rel="canonical" href="https://www.elitmus.com/blog/technology/improving-drag-in-reactjs-a-smoother-approach-to-draggable-elements/">
<link href="/blog/feed.xml" type="application/atom+xml" rel="alternate" title="eLitmus Blog Feed">


	<link rel="author" href="https://plus.google.com/+eLitmus?rel=author">


<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Icons -->
<!-- apple touch icons -->
<link rel="apple-touch-icon" sizes="57x57" href="/blog/images/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon" sizes="114x114" href="/blog/images/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon" sizes="72x72" href="/blog/images/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon" sizes="144x144" href="/blog/images/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon" sizes="60x60" href="/blog/images/apple-touch-icon-60x60.png">
<link rel="apple-touch-icon" sizes="120x120" href="/blog/images/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" sizes="76x76" href="/blog/images/apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" sizes="152x152" href="/blog/images/apple-touch-icon-152x152.png">
<!-- Favicons default 16x16 -->
<link rel="shortcut icon" type="image/vnd.microsoft.icon" href="/blog/favicon.ico">

<!-- Favicons others -->
<link rel="icon" type="image/png" href="/blog/images/favicon-196x196.png" sizes="196x196">
<link rel="icon" type="image/png" href="/blog/images/favicon-160x160.png" sizes="160x160">
<link rel="icon" type="image/png" href="/blog/images/favicon-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/blog/images/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/blog/images/favicon-32x32.png" sizes="32x32">

<!-- Icons for Windows 8 Tiles -->
<meta name="msapplication-TileColor" content="#ffffff"/>
<meta name="msapplication-TileImage" content="/blog/images/mstile-144x144.png">

<!-- For all browsers -->


<!-- Webfonts -->
<link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:600,300,300italic|The+Girl+Next+Door" rel="stylesheet" type="text/css">
<link href='//fonts.googleapis.com/css?family=Source+Code+Pro:300' rel='stylesheet' type='text/css'>

<meta http-equiv="cleartype" content="on">

<!-- bootstrap 4 -->
<link rel="stylesheet" type="text/css" href="/blog/assets/css/bootstrap.min.css">

<!-- below css file is used for navbar in individual blogposts -->
<link rel="stylesheet" type="text/css" href="/blog/assets/css/main.min.css">

<!-- <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css"> -->

<!-- Optional theme -->
<link rel="stylesheet" type="text/css" href="/blog/assets/css/bootstrap-theme.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Font Awesome -->
<link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet" />
<link rel="stylesheet" type="text/css" href="/blog/assets/css/font-elitmuslogo.css" />

<link rel="stylesheet" href="/blog/assets/css/customize.css">
<link rel="stylesheet" href="/blog/assets/css/forkit.css">

<!-- Prism -->
<link rel="stylesheet" href="/blog/assets/css/prism.css">

</head>

<body id="post">

  <header class="headroom">

  <nav class="navbar navbar-expand-md navbar-dark bg-black fixed-top" role="navigation">

      <a class="navbar-brand" href="/blog/">
        <img src="/blog/images/elitmus-only-logo.svg" class="img-logo">
        <span><div class="blog-label">blog</div></span>
      </a>

      <!-- the toggle button -->
      <button type="button" class="navbar-toggler" data-toggle="collapse" data-target=".navbar-collapse">
        <span class="navbar-toggler-icon"></span>
        <span class="sr-only">Toggle navigation</span><!-- only for screen readers -->
      </button>

      <div class="collapse navbar-collapse">
        <ul class="nav navbar-nav mr-auto">

          <!-- first item = dropdown search -->
          <li class="nav-item">
            <div class="dropdown search-box-margin">

            
              <div class="form-inline">
                 

                <input data-toggle="dropdown" placeholder="Search..." id="search-box" class="form-control form-control-sm search-input dropdown-toggle" aria-haspopup="true" aria-expanded="false">


                <div class="dropdown-menu" id="search-dropdown">
                  <a role='presentation' class='dropdown-item search-results'> Type more.... </a>
                </div>

              </div>



            <!-- the below line will pass "search word" to search.html -->

            <!--
            <form class="form-inline" action="/blog/search" method="get">
               


              <label for="search_box">Search</label>
              <input data-toggle="dropdown" type="text" name="query" placeholder="Search..." id="search-box" class="form-control form-control-sm search-input dropdown-toggle" aria-haspopup="true" aria-expanded="false">

              <div class="dropdown-menu" id="search-dropdown">
                  <a role='presentation' class='dropdown-item search-results'> Type more.... </a>
              </div>

              <input type="submit" value="search">

            </form>
            -->

            <!-- end of form -->


            </div>
          </li>
        </ul>

        

        <!-- every link on the right side -->
        <ul class="nav navbar-nav navbar-right nav-icon-size-reduce">
          
          <li class="nav-item">
             
              <a href="/blog/" class="nav-link">
                <i class="fa fa-home"></i> Home
              </a>
            
          </li>
          
          <li class="nav-item">
             
              <a href="/blog/posts/" class="nav-link">
                <i class="fa fa-file-text-o"></i> Posts
              </a>
            
          </li>
          
          <li class="nav-item">
             
              <a href="//www.elitmus.com/" class="nav-link">
                <i class="el el-elitmuslogo"></i> eLitmus
              </a>
            
          </li>
          

          <!-- feed is the last link -->
          <li class="nav-item">
            <a href="/blog/feed.xml" class="nav-link" title="Atom/RSS feed">
              <i class="fa fa-rss"></i> Feed
            </a>
          </li>
        </ul>



      </div> <!-- /.navbar-collapse -->

  </nav><!--[if lt IE 9]><div class="upgrade"><strong><a href="https://whatbrowser.org/">Your browser is quite old!</strong> Why not upgrade to a different browser to better enjoy this site?</a></div><![endif]-->
</header>
<!-- 

  <div class="search-wrapper">
    <div class="search-form">
      <input type="text" class="search-field" placeholder="Search...">
      <i class="icon-remove-sign icon-2x"></i>
      <ul class="search-results post-list"></ul> -->
<!-- /.search-results -->
<!-- </div> -->
<!-- /.search-form -->
<!-- </div> -->
<!-- ./search-wrapper -->
<!--  -->

  

  <div class="container-fluid">

  <div class="row">


    <div class="col-md-2"></div>
      <div class="col-md-8">
        <div id="main" role="main" class="marginal ">
          <article class="entry">

          

            <div>
              <header>
                <span class="entry-tags">
                  
                    <a href="/blog/tags/#technology" title="Pages tagged technology">technology</a>
                    &nbsp;&bull;&nbsp;
                  
                    <a href="/blog/tags/#javascript" title="Pages tagged javascript">javascript</a>
                    &nbsp;&bull;&nbsp;
                  
                    <a href="/blog/tags/#ReactJS" title="Pages tagged ReactJS">ReactJS</a>
                    
                  

                  <div class=' social-sharing pull-right'>        
     
</div>

                </span>
              
                
                  <h1 class="no-padding">Improving Drag in React JS: A Smoother Approach to Draggable Elements</h1>
                
              </header>
            </div>
           
            <div>
              <div>
                <span class='badge badge-warning'> <a href="/blog/categories/technology/index.html" > technology </a></span>
              </div>

              

              <div class="post-content-justify">
                <p>When building interactive web components, such as a <code>draggable</code> element, you might run into the problem where the native draggable attribute leaves the original element in place while dragging a semi-transparent copy. This behavior can feel clunky and disrupts the user experience. In this blog, I’ll show you how to build a smooth draggable component where the element itself follows the mouse pointer, rather than a ghost image.</p>

<div style=" text-align: center; margin: 20px;">
  <img src="/blog/images/draggable-element/draggable.gif" />
</div>

<p>By default, when you set an HTML element to <code>draggable="true"</code>, the browser shows a semi-transparent copy of the element that moves with your mouse. While this behavior is native and functional, it often doesn’t look great. You want to make sure that the original element moves smoothly with the cursor without showing the browser’s default ghost image.</p>

<p><strong>Solution</strong></p>

<p>The solution is to create an overlay element that follows the mouse pointer while hiding the original element during dragging. This approach improves the user experience and creates a smoother drag-and-drop interaction.</p>

<p><strong>Step-by-Step Guide</strong></p>

<ul>
  <li>
    <p><strong>Setup Initial State</strong></p>

    <p>We are going to need some state to handle the Drag &amp; Drop.</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">const [isDragging, setIsDragging] = useState(false);
    const [offset, setOffset] = useState(null);
    const [position, setPosition] = useState(null);
    const draggableRef = useRef(null);</code></pre></figure>

<p><code>isDragging</code>: This will store the current drag state of the element.</p>

<p><code>offset</code>: When the user starts dragging, they can click anywhere within the draggable element. This stores the coordinate distance between the element’s origin point and the clicked position.</p>

<p><code>position</code>: This will store the current cursor position.</p>

<p><code>draggableRef</code>: We’ll use this to retrieve the origin position of the draggable element.</p>

<ul>
  <li>
    <p><strong>Create the Draggable Element</strong></p>

    <p>First, let’s set up a simple HTML element to drag:</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">return (
      &lt;div className=&quot;App&quot;&gt;
        {
          isDragging &amp;&amp; position &amp;&amp; (
            &lt;div
              className=&quot;draggable-item draggable-overlay&quot;
              style={ `top: ${position.y}px; left: ${position.x}px`}
            &gt;
              Drag Me!
            &lt;/div&gt;
          )
        }
        &lt;div
          ref={draggableRef}
          onMouseDown={handleMouseDown}
          className=&quot;draggable-item&quot;
          style={`opacity: ${isDragging ? 0 : 1};`}
        &gt;
          Drag Me!
        &lt;/div&gt;
      &lt;/div&gt;
    );</code></pre></figure>

<ul>
  <li>
    <p><strong>Handle Drag Start: Hide the Original and Create an Overlay</strong></p>

    <p>We are not going to use native <code>drag</code> events. Instead we will be using <code>onMouseDown</code> event as it will give us more flexibility.</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">const getInitialPosition = () =&gt; {
      const draggableElement = draggableRef?.current?.getBoundingClientRect();
      return {
        x: (draggableElement?.x || 0) + window.scrollX, // It will handle edge case when there is scroll in the page.
        y: (draggableElement?.y || 0) + window.scrollY,
      };
    };

    const handleMouseDown = (event) =&gt; {
      setIsDragging(true);
      const initialPosition = getInitialPosition();
      setOffset({
        x: event.clientX - initialPosition.x,
        y: event.clientY - initialPosition.y,
      });
      setPosition(initialPosition);
      document.addEventListener(&#39;mouseup&#39;, handleMouseUp);
    };

    useEffect(() =&gt; {
    if (offset) {
      document.addEventListener(&#39;mousemove&#39;, handleMouseMove);
    } else {
      document.removeEventListener(&#39;mousemove&#39;, handleMouseMove);
    }

    return () =&gt; {
      document.removeEventListener(&#39;mousemove&#39;, handleMouseMove);
    };
  }, [offset]);</code></pre></figure>

<ul>
  <li>
    <p><strong>Move the Overlay with the Mouse</strong></p>

    <p>In last step we had added an <code>eventListener</code> on <code>mousemove</code> event. Now, let’s make sure that on mouse move the overlay follows it.</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">const handleMouseMove = (event) =&gt; {
      if (!isDragging) return;

      if (event.clientX &gt; 0 &amp;&amp; event.clientY &gt; 0) {
        setPosition({
          x: event.clientX - (offset?.x || 0),
          y: event.clientY - (offset?.y || 0),
        });
      }
    };</code></pre></figure>

<ul>
  <li>
    <p><strong>Clean Up on Drag End</strong></p>

    <p>Once the dragging is finished, we need to remove the overlay and make the original element visible again. Also we need to remove the <code>mousemove</code> event listener.</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">const handleMouseUp = () =&gt; {
      setIsDragging(false);
      setPosition(null);
      setOffset(null);

      document.removeEventListener(&#39;mouseup&#39;, handleMouseUp);
    };</code></pre></figure>

<ul>
  <li>
    <p><strong>Styling the Draggable &amp; Overlay</strong></p>

    <p>Finally, you can style the overlay so that it looks like the original element. This CSS will ensure that the overlay matches the original element’s appearance.</p>
  </li>
</ul>

<figure class="highlight"><pre><code class="language-shell" data-lang="shell">.draggable-item {
      border: 2px solid #707070;
      padding: 7px 14px;
      border-radius: 8px;
      width: fit-content;
      cursor: grab;
      user-select: none;
      background-color: coral;
    }

    .draggable-overlay {
      position: absolute;
      cursor: grabbing;
      box-shadow: 0px 20px 25px -5px #0000001a;
    }</code></pre></figure>

<p><strong>Conclusion</strong></p>

<p>By using an overlay element to follow the mouse and hiding the original element, you can avoid the default ghost image that the browser shows when dragging. This method provides a smoother and more visually pleasing drag-and-drop experience.</p>

<p>Feel free to experiment with this solution in your projects, and let me know if you find any other creative ways to enhance the draggable experience!</p>

              </div>
              <div class="entry-tags">
                <div class=' social-sharing pull-right'>        
     
</div>
              </div>
              <div class="clearfix"><br/></div>

                <div class="panel panel-default">

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  
    
      <div class="panel-body">
        <div class="container-fluid">

          <div class="row">
            <div class="col-sm-12 col-md-4">
              <center>
                <img src="/blog/images/vikastiwari14.jpg" alt="Vikas Tiwari photo" class="author-photo img-circle img-responsive"/>
                
                <span class="author vcard">
                  <span class="fn">Vikas Tiwari</span>
                </span>

                <div class="nav-icon-size-reduce social-icons">
                  
                  
                  
                  

                  
                    <a href="https://linkedin.com/in/vikastiwari14" title="Vikas Tiwari on LinkedIn" target="_blank"><i class="fa fa-linkedin "></i></a>
                  

                  

                  
                    <a href="https://instagram.com/vikastiwari14_" title="Vikas Tiwari on Instagram" target="_blank"><i class="fa fa-instagram "></i></a>
                  

                  

                  
                    <a href="https://github.com/VikasTiwari14" title="Vikas Tiwari on Github" target="_blank"><i class="fa fa-github "></i></a>
                  

                     
                </div><!-- /.social-icons -->
              </center>
            </div>

            <div class="col-sm-12 col-md-8">
              
                <span class="author-bio">Vikas Tiwari is a member of technology at eLitmus who loves taking on new challenges. Beyond the tech world, he's a fitness enthusiast and love to explore new places.</span>
              
            </div>

          </div>

        </div>
      </div>

  

  

</div>
                <div id='discourse-comments'></div>

<script type="text/javascript">
  DiscourseEmbed = { discourseUrl: 'https://adda.elitmus.com/',
                     discourseEmbedUrl: 'https://www.elitmus.com/blog/technology/improving-drag-in-reactjs-a-smoother-approach-to-draggable-elements/'
                   };

  (function() {
    var d = document.createElement('script'); 
    d.type = 'text/javascript'; 
    d.async = true;
    d.src = DiscourseEmbed.discourseUrl + 'javascripts/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(d);
  })();
</script>


                
              </div><!-- /.entry-content -->
            </div><!-- /.entry-wrapper -->

          </article>

          <nav class="navbar nav-justified" role="navigation">
            <ul class="nav pager">
              
                <li class="previous showElem mr-auto"><a href="/blog/book-review/book-review-never-let-me-go-kazuo-ishiguro/" title="Book review: Never let me go - Kazuo Ishiguro">&larr;<span class="showPrevNex"> Previous </span> </a></li>
              
              
            </ul>
          </nav>
        
        </div><!-- /#main -->

      <!--/col-md-2 -->
      <div class="col-md-2">

      </div>

    </div><!-- /row -->
    </div>
    <div class="footer-color">
      <footer role="contentinfo">
        <center>
            <span class='footer-text'>
    &copy;  2005-<script> document.write(new Date().getFullYear()) </script>, eLitmus.com. | <a href="/terms_of_use/">Terms of Use</a> &middot; <a href="/privacy_policy/">Privacy Policy</a>

  </span>
        </center>
      </footer>
    </div><!-- /.footer-wrapper -->
    

	<script async src="https://www.googletagmanager.com/gtag/js?id=G-CB7H9KN61P"></script>
	<script>
		window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'G-CB7H9KN61P');
	</script>



<!-- Load Modernizr -->
<script src="/blog/assets/js/vendor/modernizr-2.6.2.custom.min.js"></script>

<!-- adding jquery -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

<!-- end of jquery -->

<script src="/blog/assets/js/scripts.min.js"></script>
<script src="/blog/assets/js/lunr.min.js"></script>
<script src="/blog/assets/js/lunr-search.js"></script>
<script src="/blog/assets/js/plugins/headroom.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"></script>
<script src="/blog/assets/js/vendor/forkit.js"></script>

<!-- Prism -->
<script src="/blog/assets/js/prism.js"></script>
  

  </body>
</html>
